import{a as u}from"./sidebar-4fb000f0.js";let g=null;async function f(){if(!g)try{g=(await u.get("https://books-backend.p.goit.global/books/top-books")).data}catch(o){throw console.error(o),o}return g}function S(o){const{_id:e,author:t,book_image:s,title:r}=o;return`
    <li class="hero-list-card" data-cardID="${e}">
    <div class='card-image-cont'>
        <img class="hero-card-image" src="${s}" alt="${r}" />
        <p class='hidden-text'>Quick View</p>
        </div>
        <div>
          <h3 class='book-title'>${r}</h3>
          <p class='book-author'>${t}</p>
        </div>
    </li>
  `}function E(o){for(let e=o.length-1;e>0;e--){const t=Math.floor(Math.random()*(e+1));[o[e],o[t]]=[o[t],o[e]]}return o}async function L(){try{let o=await f();o=E(o);const e=document.querySelector(".hero-list");let t=4,s=1;window.innerWidth>=768&&window.innerWidth<1440?(t=4,s=3):window.innerWidth>=1440&&(t=3,s=5);for(let c=0;c<t;c+=1){const d=o[c],n=d.books.slice(0,s).map(S).join(""),i=`
        <li class="hero-list-wrapper">
          <h2 class="hero-card-title">${d.list_name}</h2>
          <ul class="hero-card-list">
            ${n}
          </ul>
          <button class='card-button' type='button' data-category="${d.list_name}">See More</button>
        </li>
      `;e.insertAdjacentHTML("beforeend",i)}document.querySelectorAll(".card-button").forEach(c=>{c.addEventListener("click",async()=>{const d=c.dataset.category;try{const n=(await u.get(`https://books-backend.p.goit.global/books/category?category=${d}`)).data;v(n,d)}catch(l){console.error("Error fetching category books:",l)}})}),document.getElementById("categories-list").querySelectorAll(".category-item").forEach(c=>{c.addEventListener("click",async()=>{const d=c.dataset.text;try{const n=(await u.get(`https://books-backend.p.goit.global/books/category?category=${d}`)).data;v(n,d)}catch(l){console.error("Error fetching category books:",l)}})})}catch(o){console.error("Error rendering book cards:",o)}}window.addEventListener("resize",()=>{document.querySelector(".hero-list").innerHTML="",document.querySelector(".hero-title").innerHTML='<h1 class="hero-title">Best Sellers <span class="hero-accent">Books</span></h1>',L()});function w(o){const{_id:e,author:t,book_image:s,title:r}=o;return`
    <li class="hero-list-card category-card" data-cardID="${e}">
    <div class='card-image-cont'>
        <img class="hero-card-image" src="${s}" alt="${r}" />
        <p class='hidden-text'>Quick View</p>
        </div>
        <div>
          <h3 class='book-title'>${r}</h3>
          <p class='book-author'>${t}</p>
        </div>
    </li>
  `}function v(o,e){const t=document.querySelector(".hero-list");t.classList.add("category-list"),t.innerHTML="",o.forEach(s=>{const r=w(s);t.insertAdjacentHTML("beforeend",r)}),document.querySelector(".hero-title").textContent=e}document.addEventListener("DOMContentLoaded",()=>{L()});function C(){const o=document.querySelector("#theme"),e=document.querySelector(".add-modal"),t=e.querySelector(".book-title"),s=e.querySelector(".book-author"),r=e.querySelector(".book-text"),c=e.querySelector(".amazon-icon"),d=e.querySelector(".apple-books-icon"),l=document.querySelector(".js-add-btn"),n=document.querySelector(".js-remove-btn"),i=document.querySelector(".modal-remove-text"),b=document.querySelector(".modal-close-icon");o.checked?(t.classList.add("dark-book-title"),s.classList.add("dark-book-author"),r.classList.add("dark-book-text"),c.classList.add("dark-amazon-icon"),d.classList.add("dark-apple-books-icon"),e.classList.add("dark-modal"),l.classList.add("dark-modal-btn"),n.classList.add("dark-modal-btn"),i.classList.add("dark-modal-remove-text"),b.classList.add("dark-modal-close-icon")):(t.classList.remove("dark-book-title"),s.classList.remove("dark-book-author"),r.classList.remove("dark-book-text"),c.classList.remove("dark-amazon-icon"),d.classList.remove("dark-apple-books-icon"),e.classList.remove("dark-modal"),l.classList.remove("dark-modal-btn"),n.classList.remove("dark-modal-btn"),i.classList.remove("dark-modal-remove-text"),b.classList.remove("dark-modal-close-icon"))}const a={modalCloseBtn:document.querySelector(".modal-close-btn"),modalAmazonIcon:document.querySelector(".amazon-icon"),modalAppleBooksIcon:document.querySelector(".apple-books-icon"),modalAddBtn:document.querySelector(".js-add-btn"),modalRemoveBtn:document.querySelector(".js-remove-btn"),modalRemoveText:document.querySelector(".modal-remove-text"),modalBackdrop:document.querySelector(".modal-backdrop"),modalCard:document.querySelector(".modal-card"),modal:document.querySelector(".add-modal"),heroList:document.querySelector(".hero-list")};function I(){a.modalBackdrop.classList.remove("is-open"),window.removeEventListener("keydown",A),document.body.style.overflow=""}function x(o){o.target===o.currentTarget&&(a.modalBackdrop.classList.remove("is-open"),window.removeEventListener("keydown",A),document.body.style.overflow="")}function A(o){o.key==="Escape"&&(a.modalBackdrop.classList.remove("is-open"),window.removeEventListener("keydown",A),document.body.style.overflow="")}const R="data:image/png;base64,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",M="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACEAAAAgCAYAAACcuBHKAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAOTSURBVHgB7VdJaFRBEH3VfyYTMa4QGYxCjBCXgyLkoKgILiB6EBE8eVTvoqh48STiCnoRFfGsXjwogrggiIoGNLkYUeOGWTCELBKTSabL+v/Pn+n+07ME4y0Fze+ufl39urq6pgaYllCo3CRfQzMS3nqtuF5pVSNowqREZ2SLrsxEtjV1AO8xGRJ8A8sYyVvSXS0jByzScQkTpp5zH+okjG+m/fhWkcTYVSxPeomXMjUXUy2McXFmCx3ItJvqRByXpJoH0Jh6AjnzzHybGSuIIhcBykTwlZrd0NQoDX5jR4PR2PxyTi9fZhtrrmVWy3Dd227ua5HQoM3CElGDo8Xn81+d0+vAkIVFDKt1Yqe5r3UdwrbJGanebKBJ1iXrBJQFhr4AP57IEUy09Bs2ArOaBJ8CRrqB3jfhNyYMbihJAlmkQDEaLcdAaw6BUrNtQz2t4If7hNB3YOYi0NbroMWbbMzYAPj1GaDtMlAIAb9bZ+KUPfDDJXe/fmvcBbX2ZBGB4NzpFtn4ZuB62nW3iECASc2F2ngatHQPLLsgVdoTOlhaMCInLCe0cB14zgrQ/JVlcahNh0EaCdvetkhoreykqKtIkPNWVcYEAVs63cZigmySjMp5mpKVEOGr0FZUlCERPCGyx9VsUBFEZb0ai4kgaCZFIoyjSiQQI1EmJsDKXshVxES1RCMSDpNFMYFYTEwJCfNAXLzGzpi+J4xLpqo8USVGU6EAiAXSv3uiypjg3HVwRKokibzbuDCOZHQQ3PcZflKlhjXGGsPgRAbc3wn8GQQtaAZmzCtg8mSLPefwhFEV+T/JP9ug7x0Hd78VQxMhsVpJx2sPQm05mieafXIR/OqKEOhH+PsTklW7LzueqE3EGk2cqH/IxNvyk3X14JEBMTAOl6gtQq73o2TNxeDnl5xJw79/qp0jJduQqX6cPNW31ekJMfHbdC8P9zmZR6IfnQeWbAC/uwPyPCcuSNajw9ac1pwxMRYJeQ1dQSFibM1FRvOEEVz0p2eiTATFjIkv1/eIOk2byj6aus9F5Rty43DPojLPf9Y5jHstDH3YzzKeug4WnY4yR9IdRNyM/yQSIV9T53qWmDr7OgST0d5eULYVjkp8ChgMiUd2xNXuPz/H043jY/RYuk0oJa6AKbs/t9ck1V462/XBZaqkjB1Or/QYLVLCL5S7T0qRW0WOzluWfVVGUsavrMcvUhe6OzAtFeQvBzyhnfEyHm0AAAAASUVORK5CYII=";function Q({book_image:o,title:e,author:t,description:s,buy_links:r}){const[c,d]=r,l=c.url,n=d.url,i=` <img src="${o}" alt="${e}" class="image" />
        <div class="card-text">
          <h3 class="book-title">${e}</h3>
          <p class="book-author">${t}</p>
          <p class="book-text">
            ${s}
          </p>
          <div class="modal-icons">
            <a target="_blank" href="${l}">
              <img
                src="${R}"
                class="amazon-icon"
                alt="Amazon"
                width="62"
                height="19"
              />
            </a>
            <a target="_blank" href="${n}">
              <img
                src="${M}"
                class="apple-books-icon"
                alt="Apple books"
                width="33"
                height="32"
              />
            </a>
          </div>
        </div>`;a.modalCard.innerHTML=i}async function p(o){try{return(await u.get(`https://books-backend.p.goit.global/books/${o}`)).data}catch(e){throw console.error("Error fetching book data:",e),e}}function y(o){return JSON.parse(localStorage.getItem(o))||[]}function B(o,e){localStorage.setItem(o,JSON.stringify(e))}a.modalCloseBtn.addEventListener("click",I);a.modalBackdrop.addEventListener("click",x);a.modalAddBtn.addEventListener("click",T);function T(){p(k).then(o=>{const e=y(m);e.some(s=>s._id===o._id)||(e.push(o),B(m,e)),h()}).catch(o=>console.log(o))}a.modalRemoveBtn.addEventListener("click",q);const m="booksData";function q(){const e=y(m).filter(t=>t._id!==k);B(m,e),h()}a.heroList.addEventListener("click",V);let k=null;async function V(o){F(),window.addEventListener("keydown",A);const e=o.target.nodeName;if(e!=="IMG"&&e!=="H3"&&e!=="P"&&e!=="LI")return;a.modalBackdrop.classList.add("is-open"),k=o.target.closest("li").dataset.cardid,await p(k).then(s=>{Q(s),h()}).catch(s=>console.log(s)),document.body.style.overflow="hidden",C()}function F(){y(m).some(({_id:e})=>{e===k?(a.modalAddBtn.classList.remove("visually-hidden"),a.modalRemoveBtn.classList.add("visually-hidden"),a.modalRemoveText.classList.add("visually-hidden")):(a.modalAddBtn.classList.add("visually-hidden"),a.modalRemoveBtn.classList.remove("visually-hidden"),a.modalRemoveText.classList.remove("visually-hidden"))})}function h(){y(m).some(({_id:t})=>t===k)?(a.modalAddBtn.classList.add("visually-hidden"),a.modalRemoveBtn.classList.remove("visually-hidden"),a.modalRemoveText.classList.remove("visually-hidden")):(a.modalAddBtn.classList.remove("visually-hidden"),a.modalRemoveBtn.classList.add("visually-hidden"),a.modalRemoveText.classList.add("visually-hidden"))}
